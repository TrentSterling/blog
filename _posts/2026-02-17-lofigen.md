---
title: "lofigen: Procedural Lo-fi Hip-Hop in Your Browser"
date: 2026-02-17
categories: [devblog]
tags: [Web Audio, JavaScript, Procedural, Music, Lo-fi]
description: "An algorithmic lo-fi hip-hop generator built with pure Web Audio synthesis. Seeded generation, piano roll visualization, ambient soundscapes. No samples, just math."
---

**[Play it live](https://tront.xyz/lofigen/)**

I built this because my nephews wanted music in their game. They've been working on CraftMine (a Minecraft-inspired thing on my site), and it needed a soundtrack -- but licensing music is annoying, and shipping audio files bloats everything. I'd been messing around with lofigenerator.com and thought: what if the game just *generated* its own lo-fi hip-hop on the fly? No samples, no files, just math. The standalone web version ended up way more advanced than I originally planned, and honestly it's one of the most fun things I've shipped.

## Pure Synthesis, Zero Samples

Everything you hear comes from Web Audio API oscillators, noise buffers, and filters. There are no audio files loaded anywhere. The Rhodes piano sound is additive synthesis -- stacked sine waves with frequency-dependent decay. The bass is a sub oscillator with harmonics shaped by a low-pass filter. Drums are white noise bursts for hats, shaped noise for snares, and a sine oscillator with a pitch envelope for kicks. Pads are detuned saw waves with slow LFOs for movement. It's all fake, and it sounds surprisingly real.

## Seeded Generation

lofigen uses a Mulberry32 PRNG seeded from whatever you type in. A number, a word, your cat's name -- each seed produces the exact same track every time. This is what made it portable to CraftMine: the game just passes a world seed and gets a consistent soundtrack without storing any audio data. Share a seed with someone and they hear exactly what you hear.

## What Makes It Sound Lo-fi

The raw synth output sounds clean and digital. The lo-fi character comes from the signal chain stacked on top:

- **Tape saturation** -- a waveshaper with soft clipping that adds subtle harmonic distortion
- **Tape wobble** -- an LFO modulating a delay line's time parameter, giving that warped-vinyl pitch drift
- **Master low-pass at 3200Hz** -- cuts the high-end harshness, like listening through old speakers
- **High-shelf cut at 4kHz** -- warm rolloff on top of the LPF
- **Convolution reverb** -- the impulse response is procedurally generated too, no IR file loaded
- **Ambient soundscapes** -- rain, cafe, or night, each built from filtered noise with different characteristics

That stack is what turns "some oscillators playing jazz chords" into something that sounds like a YouTube lo-fi stream.

## Arrangement

A random song would get boring fast if every instrument played the whole time. lofigen has 5 arrangement templates -- Classic Build, Drums First, Ambient Opener, Melody Focus, and Stripped Back. Each template defines 7-8 sections that bring instruments in and out organically. A track might start with just rain and piano, bring in the bass and drums after 30 seconds, drop to a breakdown with only pads, then build back up. It feels like an actual DJ set instead of a loop.

The music theory side generates chord progressions from scale patterns (minor, dorian, mixolydian) with 7th chords and jazz voicings. BPM sits in the 50-100 range with adjustable swing.

## Visualizations

There are four real-time displays: a **piano roll** canvas showing notes as they play, a **spectrum analyzer** with FFT frequency data, a **beat grid** step-sequencer view, and a **timeline** with section labels and a moving playhead. The piano roll is my favorite -- watching the chords and melody lines stack up while the music plays is hypnotic.

## Try It

The whole thing is a single HTML file -- 2365 lines, zero external dependencies. It has a playlist system (add seeds, shuffle, autoplay), keyboard shortcuts (Space for play/stop, M to mute, N/P for next/prev), and controls for volume, BPM, swing, and ambient mix.

It's already running inside CraftMine as the procedural soundtrack. The standalone version at [tront.xyz/lofigen](https://tront.xyz/lofigen/) is the full-featured playground. Type in a seed, hit play, and let the math make you some beats.
